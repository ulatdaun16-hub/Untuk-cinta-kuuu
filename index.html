<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Valentine ü§ç</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap');

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top, #fde2ea, #f7b7c9);
    min-height: 100vh;
    overflow-x: hidden;
    color: #6b2138;
}

section {
    padding: 70px 20px;
    max-width: 900px;
    margin: auto;
    display: none;
}

h1, h2 {
    text-align: center;
    font-weight: 400;
}

.center {
    text-align: center;
}

button {
    background: #f4a3b5;
    color: #6b2138;
    border: none;
    padding: 12px 32px;
    border-radius: 30px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.3s;
    margin-top: 20px;
}

button:hover {
    background: #f28aa4;
}

/* PASSWORD */
#passwordPage {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

input {
    padding: 12px;
    border-radius: 10px;
    border: none;
    width: 240px;
    text-align: center;
    font-size: 16px;
    margin-bottom: 15px;
}

.error {
    color: #9b1c31;
    margin-top: 10px;
}

/* MESSAGE */
.message {
    background: rgba(255,255,255,0.35);
    padding: 30px;
    border-radius: 20px;
    line-height: 1.9;
    font-size: 16px;
}

/* ENDING */
.ending {
    margin-top: 60px;
    font-size: 16px;
    opacity: 0;
    animation: fadeIn 6s forwards;
}

@keyframes fadeIn {
    to { opacity: 1; }
}

/* DOLLS */
.doll {
    position: fixed;
    top: -40px;
    font-size: 28px;
    animation: fall linear forwards;
    opacity: 0.7;
}

@keyframes fall {
    to {
        transform: translateY(110vh);
        opacity: 0;
    }
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgMusic" loop>
    <source src="piano.mp3" type="audio/mpeg">
</audio>

<!-- PASSWORD -->
<div id="passwordPage">
    <h2>Masukkan tanggal jadian kita ü§ç</h2>
    <input id="passwordInput" placeholder="30 Desember 2026">
    <button onclick="checkPassword()">Masuk</button>
    <div id="error" class="error"></div>
</div>

<!-- WELCOME -->
<section id="welcome" class="center">
    <h1>Selamat datang di tempat paling aman ü§ç</h1>
    <button id="playMusicBtn" onclick="playMusic()" style="display:none;">
        Mulai pelan-pelan ü§ç
    </button>
</section>

<!-- VIDEO -->
<section id="videoSection" class="center">
    <video id="video" width="100%" controls>
        <source src="video-valentine.mp4" type="video/mp4">
    </video>
</section>

<!-- MESSAGE -->
<section id="message" class="center">
    <button id="openBtn" onclick="startMessages()">Aku punya sesuatu ü§ç</button>
    <div id="typing" class="message" style="display:none;"></div>

    <div class="ending">
        Aku nggak janji dunia akan selalu baik.<br>
        Tapi aku janji,<br>
        kamu nggak akan sendirian ü§ç
    </div>
</section>

<script>
const sections = ["welcome","videoSection","message"];

function checkPassword() {
    const input = document.getElementById("passwordInput").value.toLowerCase();
    const correct = ["30 desember 2026","30-12-2026"];

    if (correct.includes(input)) {
        document.getElementById("passwordPage").style.display = "none";
        sections.forEach((id,i)=>{
            setTimeout(()=>document.getElementById(id).style.display="block", i*900);
        });
        document.getElementById("playMusicBtn").style.display = "inline-block";
        startDolls();
    } else {
        document.getElementById("error").innerText =
            "Coba ingat lagi tanggal spesial kita ü§ç";
    }
}

function playMusic() {
    const music = document.getElementById("bgMusic");
    music.volume = 0.35;
    music.play();
    document.getElementById("playMusicBtn").style.display = "none";
}

const messages = [
"Terima kasih ya, kamu selalu ada di setiap langkahku, bahkan di saat aku lagi capek sama dunia.",
"",
"Kehadiranmu itu sederhana, tapi rasanya selalu bikin tenang.",
"",
"Mungkin aku nggak selalu bilang, tapi aku bersyukur banget punya kamu.",
"",
"Kalau dunia terasa terlalu ramai dan melelahkan buat kamu‚Ä¶",
"",
"Pulanglah.",
"",
"Aku akan selalu jadi tempatmu kembali.",
"",
"Di pundakku kamu boleh rapuh.",
"",
"Di dekatku kamu nggak perlu pura-pura kuat.",
"",
"Selama kamu masih mau melangkah, aku akan tetap di sini ü§ç"
];

let msgIndex = 0;

function startMessages() {
    document.getElementById("openBtn").style.display = "none";
    const box = document.getElementById("typing");
    box.style.display = "block";
    showMessage();
}

function showMessage() {
    if (msgIndex >= messages.length) return;
    const box = document.getElementById("typing");
    box.innerHTML = "";
    let text = messages[msgIndex];
    let i = 0;

    const typing = setInterval(() => {
        box.innerHTML += text.charAt(i);
        i++;
        if (i >= text.length) {
            clearInterval(typing);
            msgIndex++;
            setTimeout(showMessage, 1800);
        }
    }, 40);
}

function startDolls() {
    setInterval(() => {
        const doll = document.createElement("div");
        doll.className = "doll";
        doll.innerText = "üß∏";
        doll.style.left = Math.random()*100+"vw";
        doll.style.animationDuration = (12 + Math.random()*8)+"s";
        document.body.appendChild(doll);
        setTimeout(()=>doll.remove(),20000);
    }, 1200);
}

// MUSIC FADE WHEN VIDEO
const video = document.getElementById("video");
video.onplay = ()=>document.getElementById("bgMusic").volume = 0.15;
video.onended = ()=>document.getElementById("bgMusic").volume = 0.35;
</script>

</body>
</html>
